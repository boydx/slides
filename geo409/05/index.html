<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>GEO 409: Module 04</title>

	<link rel="stylesheet" href="../../dist/reset.css">
	<link rel="stylesheet" href="../../dist/reveal.css">
	<link rel="stylesheet" href="../../dist/theme/league-alt.css" id="theme">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="../../plugin/highlight/tom-night-80.css" id="highlight-theme">
	<style>
		/* UK Colors: 
					 #c7c9c8 light gray 
					 #63666a dark gray
					 #15397f dark blue
					 #009bda light blue
					 #0033a0 official blue
				 */

		.revealz::after {
			content: "";
			background: url('https://www.outragegis.com/weather/goes16/rgb.jpg') no-repeat fixed center;
			background-size: cover;
			opacity: 0.35;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
			position: absolute;
			z-index: -1;
		}

		.ll {
			bottom: 0px;
			left: 0px;
			position: absolute;
			z-index: 200;
			width: 300px;
			font-size: 0.4em;
			margin: 0 0 -50px 10px;
			font-style: italic;
			font-weight: 300;
			text-align: left;
		}

		.lr {
			bottom: 5px;
			right: 0px;
			position: absolute;
			z-index: 200;
			width: 300px;
			font-size: 0.6em;
			margin: 0 0 -50px 10px;
			/* font-style: italic; */
			text-align: right;
		}

		.ul {
			top: 0px;
			left: 0px;
			position: absolute;
		}

		.custom-counter {
			top: 0px;
			right: 0px;
			position: absolute;
		}

		.left {
			text-align: left;
		}

		.left ul {
			text-align: left;
			margin-left: 80px;
		}

		.custom-counter {
			margin: 0;
			padding: 0;
			list-style-type: none;
		}

		.custom-counter li {
			counter-increment: step-counter;
			margin-bottom: 10px;
		}

		.custom-counter li::before {
			content: counter(step-counter);
			margin-right: 5px;
			font-size: 80%;
			background-color: #ffbb00;
			color: white;
			font-weight: bold;
			padding: 3px 8px;
			border-radius: 3px;
		}

		li {
			/* list-style-type: "‚ú® ";  */
			list-style-image: url('../images/map-pin.png');
		}

		.plain {
			/* list-style-type: "‚ú® ";  */
			list-style-image: none;
			list-style-type: none;
		}

		.number {
			/* list-style-type: "‚ú® ";  */
			list-style-image: none;
			list-style-type: decimal;
			/* list-style-position: inside; */
		}

		.lite {
			color: #fff;
			opacity: 0.6;
			font-weight: 300;
		}

		.icode {
			color: #cebe91;
		}
	</style>
</head>





<body>
	<div class="reveal">
		<div class="slides">
			<section data-pre-load
				data-background-image="https://www.outragegis.com/weather/img/animation/yesterday/LookRock.gif"
				data-background-opacity="0.4">
				<h5>Module 05</h5>
				<h3>Automated geoprocessing</h3>

				<div class='ll'>Yesterday in the Great Smokies<br>Webcam <a
						href="https://www.outragegis.com/weather/img/animation" target='_blank'>archive</a></div>
				<!-- <h2>Welcome</h2> -->
				<div class='lr'>GEO 409: Advanced GIS</div>
			</section>
			<section data-pre-load
				data-background-image="https://www.outragegis.com/weather/img/animation/yesterday/LookRock.gif"
				data-background-opacity="0.4">
				<img width='100%' src='../images/logo-uk-geo.png'>
			</section>

			

			<section class='left' data-background-image='https://live.staticflickr.com/587/32650838134_4d77a4776a_k.jpg'
				data-background-opacity="0.2">
				<h3>Virtual field trip to</h3>
				<h5>Louisville Waterfront</h5>
				<p>38.263568,-85.741381</p>
			</section>

			<section class='left' data-background-image='images/01.jpg' data-background-color="#fff"
				data-background-opacity="1"
				data-background-size="contain">
			</section>

			<section class='left' data-background-image='images/02.jpg' data-background-color="#fff"
				data-background-opacity="1"
				data-background-size="contain">
			</section>

			<section class='left' data-background-image='images/03.jpg' data-background-color="#fff"
				data-background-opacity="1"
				data-background-size="contain">
			</section>

			<section class='left' data-background-image='images/04.jpg' data-background-color="#fff"
				data-background-opacity="1"
				data-background-size="contain">
			</section>

			<section class='left' data-background-image='images/05.jpg' data-background-color="#fff"
				data-background-opacity="1"
				data-background-size="contain">
			</section>


			<section class='left' data-background-image='https://live.staticflickr.com/3830/32680157893_dcf220c00d_k.jpg' data-background-color="#fff"
				data-background-opacity="1">
			</section>

			

			<section class='left' data-background-image='https://live.staticflickr.com/2884/32650831264_c1a4eec82d_o.jpg' data-background-color="#000"
				data-background-opacity="1">
			</section>



			<section data-background-iframe='https://nyc3.digitaloceanspaces.com/astoria/xyz/lou-wf/index.html'
				data-background-interactive data-background-opacity="1">
				<!-- <h6 class="r-fit-text">Measuring arches</h6> -->
			</section>

			<section data-background-iframe='https://nyc3.digitaloceanspaces.com/astoria/xyz/louisville-waterfront/index.html'
			data-background-interactive data-background-opacity="1">
			<!-- <h6 class="r-fit-text">Measuring arches</h6> -->
		</section>


			<section class='left' data-background-image='images/05.jpg'
				data-background-opacity="0.2">
				<p>Historic images from <a href='https://exploreuk.uky.edu/'>ExploreUKy.edu</a></p>
			</section>






			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Goals</h3>
				<ul>
					<li class='fragment'>
						No more Python training üèãÔ∏è‚Äç‚ôÄÔ∏è
					</li>
					<li class='fragment'>
						but ArcPy all the way.
					</li>
					<li class='fragment'>
						Application: automated geoprocessing
						<ul>
							<li class='fragment'>
								+ finished cartography
							</li>
							<li class='fragment'>
								+ producing data for the next module
							</li>
							<li class='fragment'>
								+ two extra sections...
							</li>
						</ul>
					</li>
				</ul>
			</section>
			<section class='left' data-background-image='https://nyc3.digitaloceanspaces.com/astoria/geo409/images/morn.gif' data-background-color="#000"
				data-background-opacity="1">
			</section>
			<section class='left' data-background-image='images/ad-03.jpg' data-background-color="#555"
				data-background-opacity="1"
				data-background-size="contain">
			</section>
			<!-- <section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>If you are on Virtual Den</h3>
				<ul>
					<li>
						Start with this ArcGIS Pro project package
						<ul>
							<li>
								<a href='https://nyc3.digitaloceanspaces.com/astoria/geo409/Lesson-02.ipynb'>mod-03.ppkx</a>
							</li>
						
						</ul>
					</li>
				</ul>
			</section> -->
			<section data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h1 class='r-fit-text'>Automated</h3>
				<h6 class='r-fit-text'>Geoprocessing</h6>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Geoprocessing</h3>
				<ul>
					<li class='fragment'>
						"A framework and set of tools for processing geographic and related data."
					</li>
					<li class='fragment'>
						Framework: geodatabases, visualizations, etc.
					</li>
					<li class='fragment'>
						Tools: functions like buffer, clip, etc.
					</li>
					<li class='fragment'>
						Input => Output
					</li>
				</ul>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Automated</h3>
				<ul>
					<li class='fragment'>
						Wrapping the processing steps in Python script
					</li>
					<li class='fragment'>
						to operate automatically on any number of inputs.
					</li>
					<li class='fragment'>
						Control flow of execution depending on type of data.
					</li>
					<li class='fragment'>
						Parameters are exposed at the head of the script to control downstream events.
					</li>
				</ul>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Automate at scale</h3>
				<ul>
					<li class='fragment'>
						Tools chained together
					</li>
					<li class='fragment'>
						Programmatically run an entire workflow
					</li>
					<li class='fragment'>
						Operate on unlimited amounts of data
					</li>
					<li class='fragment'>
						Once coded, work on same data but from different area
					</li>
				</ul>
			</section>
			
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Lab 4</h3>
				<ul>
					<li class='fragment'>
						Totally was geoprocessing
						<ul>
							<li class='fragment'>
							 	import and filter data
							</li>
							<li class='fragment'>
								convert table to spatial layer
							</li>
							<li class='fragment'>
								project spatial layer to new coordinate system
							</li>
							<li class='fragment'>
								buffer spatial layer to find total area
							</li>
						</ul>
					</li>
					<li class='fragment'>
						Get familiar with the tool documentation
						<ul>
							<li class='fragment'>
								Don't have to know all settings all the time
							</li>
						</ul>
					</li>
					<li class='fragment'>
						Get comfortable moving data, running code, examining output
					</li>
				</ul>
			</section>
		
			<!-- <section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>So no maps yet?</h3>
				<ul>
					<li class='fragment'>
						Patience.
					</li>
					<li class='fragment'>
						We are data wrangling
					</li>
					<li class='fragment'>
						immense datasets to produce mappable info 
					</li>
					<li class='fragment'>
						for our area of interest.
					</li>
				</ul>
			</section> -->
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Module 5</h3>
				<ul>
					<li class='fragment'>
						Essential tools and techniques EVERY GIS person should know.
					</li>
					<li class='fragment'>
						Scenario: you have dozens of layers but you only need a small portion?
					</li>
					<li class='fragment'>
						Working with too much data is unproductive.
						<ul>
							<li class='fragment'>Clip in a <code class='icode'>for</code> loop</li>
						</ul>
					</li>
				</ul>
			</section>

			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Make a map using the following data...</h3>

			</section>

			<section class='left' data-background-image='images/ky-data.jpg' data-background-color="#fff"
				data-background-opacity="1"
				data-background-size="contain">
			</section>

			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>What a mess!</h3>

			</section>

			<section class='left' data-background-image='images/ky-basemap.png' data-background-color="#fff"
				data-background-opacity="1"
				data-background-size="contain">
			</section>

			<section data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h1 class='r-fit-text'>Vector</h3>
				<h6 class='r-fit-text'>Geoprocessing</h6>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Vector Geoprocessing</h3>
				<ul>
					<li class='fragment'>
						Point, line, polygon, etc.
					</li>
					<li class='fragment'>
						Tools can have one or multiple inputs.
					</li>
					<li class='fragment'>
						What's happening to the attribute table?
					</li>
				</ul>
			</section>
			<section class='left' data-background-image='images/tools.png' data-background-color="#fff"
				data-background-opacity="1"
				data-background-size="contain">
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Common problem</h3>
				<ul>
					<li class='fragment'>
						Clip a feature, which reduces it size.
					</li>
					<li class='fragment'>
						The author of the data included a field for area.
						<ul>
							<li class='fragment'>
								A 'hardcoded' attribute that doesn't update.
							</li>
						</ul>
					</li>
					<li class='fragment'>
						The field is now toast.
					</li>
				</ul>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Solution</h3>
				<ul>
					<li class='fragment'>
						Store data in a geodatabase
						<ul>
							<li class='fragment'>
								a folder with a .gdb extension.
							</li>
						</ul>
					</li>
					<li class='fragment'>
						Adds and updates geometry measurement fields.
						<ul>
							<li class='fragment'>
								In units specified by the coordinate system.
							</li>
						</ul>
					</li>
					<li class='fragment'>
						<code class='icode'>Shape_Length</code> and <code class='icode'>Shape_Area</code> most important
					</li>
				</ul>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h3>Demonstration</h3>
				<ul>
					<li class='fragment'>
						Bluegrass data: <a href='https://nyc3.digitaloceanspaces.com/astoria/geo409/data/bluegrass.gdb.zip'>bluegrass.gdb.zip</a> file geodatabase (7 MB)
					</li>
					<li class='fragment'>
						Create custom area of interest within Bluegrass region.
						<ul>
							<li class='fragment'>
								Create Polygon Note in ArcGIS Pro
							</li>
						</ul>
					</li>
					<li class='fragment'>
						Open Lessoon-05.ipynb and follow the lesson documentation.
					</li>
				</ul>
			</section>

			<section  data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2" data-markdown data-separator="---" data-background-color=#2D2D2D>
				<textarea data-template>

					[Clip function](http://pro.arcgis.com/en/pro-app/tool-reference/analysis/clip.htm)
					```python
					# Clip streams to the area of interest
					arcpy.Clip_analysis("streams", "aoi", "streams_aoi")
					```
					---

					[Buffer function](https://pro.arcgis.com/en/pro-app/tool-reference/analysis/buffer.htm)
					```py
					# Buffer streams to area of interest
					arcpy.Buffer_analysis("streams_aoi", "streams_aoi_buffer_500ft", 500)
					```
					---

					[Dissolve function](https://pro.arcgis.com/en/pro-app/tool-reference/data-management/dissolve.htm)
					```py
					# Dissolve counties to a single polygon
					arcpy.Dissolve_management("counties", "counties_dissolved")
					```

					---

					```py
					# Dissolve streams on an attribute value
					arcpy.Dissolve_management("streams", "streams_dissolved_name", "GNIS_NAME")
					```

					---

					[Intersect tool](https://pro.arcgis.com/en/pro-app/tool-reference/analysis/intersect.htm)
					```py
					# Intersect streams with counties
					arcpy.Intersect_analysis(["counties", "streams"], "streams_by_county")
					```
					---
					###### Which county has the most streams by length?
					---
					```py
					# Dissolve streams by county name
					arcpy.Dissolve_management("streams_by_county", "stream_length_by_county", "County_Name")
					```
					</textarea>

			</section>

			<section data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h1>STOP</h1>

			</section>

			
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49754990433_faae5d928c_k.jpg'
				data-background-opacity="0.3">
				<h5>Application</h5>
				<h3>Clipping multiple datasets to an area of interest</h3>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49754990433_faae5d928c_k.jpg'
				data-background-opacity="0.3">
				<h5></h5>
				<h3></h3>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49754990433_faae5d928c_k.jpg'
				data-background-opacity="0.2">
				<h3>Overview</h3>
				<ol>
					<li class='fragment'>
						
					</li>
					<li class='fragment'>
						
					</li>
					<li class='fragment'>
						
					</li>
					<li class='fragment'>
						
					</li>
				</ol>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49754990433_faae5d928c_k.jpg'
				data-background-opacity="0.2">
				<h3></h3>
				<ol>
					<li class='fragment'>
						
					</li>
					<li class='fragment'>
						Official geographic names component of <a href='https://apps.nationalmap.gov/downloader'>The National Map</a>
					</li>
					<li class='fragment'>
						
					</li>
					<li class='fragment'>
						
					</li>
				</ol>
			</section>

			<section class='left' data-background-image='https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/GUID-267CF0D1-DB92-456F-A8FE-F819981F5467-web.png' 
				data-background-color="#fff"
				data-background-size='contain'
				data-background-opacity="1">
			</section>

			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49754990433_faae5d928c_k.jpg'
				data-background-opacity="0.2">
				<h3>ArcPy</h3>
				<ol>
					<li class='fragment'>
						
					</li>
					<li class='fragment'>
						
					</li>
					<li class='fragment'>
						
					</li>

					<li class='fragment'>
						
					</li>
				</ol>
			</section>
			<section class='left'
				data-background-image='https://live.staticflickr.com/65535/49754990433_faae5d928c_k.jpg'
				data-background-opacity="0.2">
				<h3>To start...</h3>
				<ol>
					<li class='fragment'>
						Open <b>Application</b> section in lesson
					</li>
					<li class='fragment'>
						Open notebook in <b>application</b> folder
					</li>

					<li class='fragment'>
						<code class='icode'>import arcpy</code>
					</li>
				</ol>
			</section>

			<section data-background-image='https://live.staticflickr.com/65535/49754990433_faae5d928c_k.jpg'
				class='left' data-background-opacity="0.2" data-markdown data-separator="---" data-background-color=#2D2D2D>
				<textarea data-template>
					# arcpy
					---
				
					```python
					# import the ArcGIS Pro Python powers
					import arcpy

					# Set environment property
					arcpy.env.workspace ='path\\to\\my\\geodatabase'

					# Set environment property
					arcpy.env.overwriteOutput = True
					```
					* [env](https://pro.arcgis.com/en/pro-app/latest/arcpy/classes/env.htm)

					---
					```py
					# Create spatial reference object using the EPSG code
					sr = arcpy.SpatialReference(3089)

					# Verify correct CRS is supplied
					# Print name property
					print(sr.name) 

					# Now we can transform any layer to our default CRS
					# Our layers are in the same coordinate system
					```
					* [SpatialReference](https://pro.arcgis.com/en/pro-app/latest/arcpy/classes/spatialreference.htm)

					---
					```py
					# If a database doesn't exist, create it
					if arcpy.Exists(f'path\\to\\my\\geodatabase'):
						print("Database exists!")
					else:
						arcpy.CreateFileGDB_management('path\\to\\my', 'databaseName')
						print(f"Created: path\\to\\my\\geodatabase")
					```
					* [Exists](https://pro.arcgis.com/en/pro-app/latest/arcpy/functions/exists.htm)   
					* [CreateFileGDB](https://pro.arcgis.com/en/pro-app/latest/tool-reference/data-management/create-file-gdb.htm)

					---
					```py
					# Make spatial layer from table that has fields for lat/long
					arcpy.XYTableToPoint_management(in, out, long, lat, elev)
					```
					* [XYTableToPoint](https://pro.arcgis.com/en/pro-app/latest/tool-reference/data-management/xy-table-to-point.htm)

					---
					```py
					# Project layer to our coordinate system
					arcpy.Project_management(in, out, sr)
					```
					* [Project](https://pro.arcgis.com/en/pro-app/latest/tool-reference/data-management/project.htm)
				
					---
					```py
					# Buffer points
					arcpy.Buffer_analysis(in, out, buffer_distance, "#", "#", dissolve_all)
					```
					* [Buffer](https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/buffer.htm)
					</textarea>

			</section>

			
			<section data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2">
				<h1>STOP</h1>

			</section>

			<section data-background-image='https://live.staticflickr.com/65535/49816095502_b911d8549c_k.jpg'
				data-background-opacity="0.2" data-markdown data-separator="---" data-background-color=#2D2D2D>
				<textarea data-template>
					```python
					archesList = ['Silvermine Arch', 'Castle Arch', 'Rock Bridge Arch'] 
					```

					---
					### Index bracket notation
					Address items in sequence with integer, just like strings.


					---
					```py
					myList[item]
					# where item is an integer
					```
				
					</textarea>

			</section> 


		</div>
	</div>

	<script src="../../dist/reveal.js"></script>
	<script src="../../plugin/notes/notes.js"></script>
	<script src="../../plugin/markdown/markdown.js"></script>
	<script src="../../plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,
			backgroundTransition: 'fade',
			// Transition style
			transition: 'fade', // none/fade/slide/convex/concave/zoom

			// Transition speed
			transitionSpeed: 'fast', // default/fast/slow

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>
</body>

</html>